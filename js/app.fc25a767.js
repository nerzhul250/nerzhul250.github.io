(function(e){function t(t){for(var i,n,s=t[0],l=t[1],d=t[2],u=0,v=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&v.push(o[n][0]),o[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);c&&c(t);while(v.length)v.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],i=!0,s=1;s<a.length;s++){var l=a[s];0!==o[l]&&(i=!1)}i&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},o={app:0},r=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("b0c0"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[e.userIsLogged?a("div",[a("v-toolbar-title",[e._v("Holaaa! "+e._s(this.$store.state.user.nombre)+" "+e._s(this.$store.state.user.apellido))])],1):a("div",[a("router-link",{attrs:{to:"/"}},[a("v-btn",[e._v("Logueate querido empleado")])],1)],1),a("v-spacer"),e.userIsLogged?a("div",[a("router-link",{staticClass:"mr-5",attrs:{to:"/usuarios"}},[a("v-icon",[e._v("mdi-account-search")])],1),a("router-link",{staticClass:"mr-5",attrs:{to:"/dependencias"}},[a("v-icon",[e._v("mdi-account-group")])],1),a("v-btn",{attrs:{right:""},on:{click:e.logout}},[e._v("Deslogueate aca!")])],1):e._e()],1),a("v-main",[a("router-view")],1)],1)},r=[],n={name:"App",data:function(){return{}},computed:{userIsLogged:function(){return""!=this.$store.state.user.email}},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/")}}},s=n,l=a("2877"),d=a("6544"),c=a.n(d),u=a("7496"),v=a("40dc"),m=a("8336"),p=a("132d"),f=a("f6c4"),b=a("2fa4"),h=a("2a7f"),x=Object(l["a"])(s,o,r,!1,null,null,null),g=x.exports;c()(x,{VApp:u["a"],VAppBar:v["a"],VBtn:m["a"],VIcon:p["a"],VMain:f["a"],VSpacer:b["a"],VToolbarTitle:h["a"]});a("7db0"),a("d81d");var I=a("2f62"),_=a("8c4f"),k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"d-flex justify-center align-center mt-16"},[a("v-card",[a("v-card-title",[e._v(" Login ")]),a("v-form",{staticClass:"mt-n15 px-10 pb-10",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("div",{staticClass:"mt-15"},[a("v-text-field",{attrs:{rules:e.emailRules,label:"Email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{rules:e.passwordRules,label:"Password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-btn",{on:{click:e.submit}},[e._v(" Entrar ")]),a("v-btn",{attrs:{to:"/registration"}},[e._v(" Registro ")])],1)])],1)],1),a("div",{staticClass:"d-flex justify-center align-end"},[a("v-alert",{attrs:{border:"right","colored-border":"",type:"error",elevation:"2",dismissible:"","max-width":"500"},model:{value:e.errorAlert,callback:function(t){e.errorAlert=t},expression:"errorAlert"}},[e._v(" Sus credenciales no se encuentran en el sistema, intente con unas distintas ")]),a("v-alert",{attrs:{border:"right","colored-border":"",type:"error",elevation:"2",dismissible:"","max-width":"500"},model:{value:e.errorAlert2,callback:function(t){e.errorAlert2=t},expression:"errorAlert2"}},[e._v(" Ha habido un error con el formulario, ingrese de nuevo los datos ")])],1)])},w=[],V=a("6821"),y={name:"login",data:function(){return{valid:!1,errorAlert2:!1,email:"",emailRules:[function(e){return!!e||"E-mail es obligatorio"},function(e){return/.+@.+/.test(e)||"E-mail es invalido"}],passwordRules:[function(e){return!!e||"Password es obligatorio"}],password:""}},methods:{submit:function(){if(this.valid){var e={email:this.email,password:V(this.password)};this.$store.dispatch("login",e)}else this.errorAlert2=!0}},computed:{errorAlert:{get:function(){return this.$store.state.errorAlert},set:function(e){this.$store.commit("setErrorAlert",e)}}}},C=y,D=a("0798"),A=a("b0af"),T=a("99d9"),j=a("4bd4"),$=a("8654"),E=Object(l["a"])(C,k,w,!1,null,"e25ccc90",null),O=E.exports;c()(E,{VAlert:D["a"],VBtn:m["a"],VCard:A["a"],VCardTitle:T["d"],VForm:j["a"],VTextField:$["a"]});var R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{attrs:{headers:e.headers,items:e.usuarios,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Los usuarios del sistema")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"mr-5",attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),i),[e._v(" Nuevo usuario ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-subtitle",[e._v(" La contraseÃ±a por default es: 123456 ")]),a("v-card-text",[a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Nombre",rules:e.genericRules,required:""},model:{value:e.editedItem.nombre,callback:function(t){e.$set(e.editedItem,"nombre",t)},expression:"editedItem.nombre"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Apellido",rules:e.genericRules,required:""},model:{value:e.editedItem.apellido,callback:function(t){e.$set(e.editedItem,"apellido",t)},expression:"editedItem.apellido"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Email",rules:e.emailRules,required:""},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-checkbox",{attrs:{label:"Activo"},model:{value:e.editedItem.activo,callback:function(t){e.$set(e.editedItem,"activo",t)},expression:"editedItem.activo"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-select",{attrs:{items:e.dependencias,"item-text":"nombre","return-object":"",rules:e.genericRules,required:""},model:{value:e.editedItem.dependencia,callback:function(t){e.$set(e.editedItem,"dependencia",t)},expression:"editedItem.dependencia"}})],1),a("v-col",{attrs:{cols:"4"}})],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-date-picker",{model:{value:e.editedItem.valido_hasta,callback:function(t){e.$set(e.editedItem,"valido_hasta",t)},expression:"editedItem.valido_hasta"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Estas seguro de eliminar este usuario?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}],null,!0)})},S=[],q=a("59ca"),L=a.n(q);a("e71f");var N={apiKey:"AIzaSyBDI4y4WnvKIMOjj5DVcmQ-tjZbkdhXV80",authDomain:"otavez-46bfe.firebaseapp.com",databaseURL:"https://otavez-46bfe.firebaseio.com",projectId:"otavez-46bfe",storageBucket:"otavez-46bfe.appspot.com",messagingSenderId:"834523069440",appId:"1:834523069440:web:9a811d0c3b1f8ae3b56ce5"};L.a.initializeApp(N);var P=L.a.firestore(),U=a("6821"),F={data:function(){return{valid:!1,usuarios:[],dependencias:[],dialog:!1,dialogDelete:!1,headers:[{text:"Nombre",value:"nombre"},{text:"Apellido",value:"apellido"},{text:"Email",value:"email"},{text:"Valido hasta",value:"valido_hasta"},{text:"Activo",value:"activo"},{text:"Dependencia",value:"dependencia.nombre"},{text:"Acciones",value:"actions",sortable:!1}],editedItem:{nombre:"",apellido:"",email:"",valido_hasta:"",activo:!1,dependencia:""},defaultItem:{nombre:"",apellido:"",email:"",valido_hasta:"",activo:!1,dependencia:""},editedIndex:-1,search:"",emailRules:[function(e){return!!e||"E-mail es obligatorio"},function(e){return/.+@.+/.test(e)||"E-mail es invalido"}],genericRules:[function(e){return!!e||"Este campo es obligatorio"}]}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo usuario":"Editar usuario"}},methods:{close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){if(this.valid&&this.editedItem.valido_hasta){if(-1!=this.editedIndex)this.editedItem.dependencia=P.collection("dependencias").doc(this.editedItem.dependencia.id),P.collection("usuarios").doc(this.editedIndex).set(this.editedItem);else{var e=this.editedItem;e.dependencia=P.collection("dependencias").doc(e.dependencia.id),e.password=U("123456"),P.collection("usuarios").add(e)}this.close()}else alert("Faltan campos por llenar")},editItem:function(e){this.editedIndex=e.id,this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=e.id,this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){P.collection("usuarios").doc(this.editedIndex).delete(),this.closeDelete()}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},firestore:{usuarios:P.collection("usuarios"),dependencias:P.collection("dependencias")}},z=F,B=a("ac7c"),M=a("62ad"),H=a("a523"),K=a("8fea"),J=a("2e4b"),Q=a("169a"),W=a("ce7e"),X=a("0fd9"),Z=a("b974"),G=a("71d9"),Y=Object(l["a"])(z,R,S,!1,null,"31743bb7",null),ee=Y.exports;c()(Y,{VBtn:m["a"],VCard:A["a"],VCardActions:T["a"],VCardSubtitle:T["b"],VCardText:T["c"],VCardTitle:T["d"],VCheckbox:B["a"],VCol:M["a"],VContainer:H["a"],VDataTable:K["a"],VDatePicker:J["a"],VDialog:Q["a"],VDivider:W["a"],VForm:j["a"],VIcon:p["a"],VRow:X["a"],VSelect:Z["a"],VSpacer:b["a"],VTextField:$["a"],VToolbar:G["a"],VToolbarTitle:h["a"]});var te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{attrs:{headers:e.headers,items:e.dependencias},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Las dependendencias del sistema")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),i),[e._v(" Nueva dependencia ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Nombre",rules:e.genericRules,required:""},model:{value:e.editedItem.nombre,callback:function(t){e.$set(e.editedItem,"nombre",t)},expression:"editedItem.nombre"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Coordinador",rules:e.genericRules,required:""},model:{value:e.editedItem.coordinador,callback:function(t){e.$set(e.editedItem,"coordinador",t)},expression:"editedItem.coordinador"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Ubicacion",rules:e.genericRules,required:""},model:{value:e.editedItem.ubicacion,callback:function(t){e.$set(e.editedItem,"ubicacion",t)},expression:"editedItem.ubicacion"}})],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Maximo Numero de usuarios",type:"number",rules:e.genericRules,required:""},model:{value:e.editedItem.maximo_numero_usuarios,callback:function(t){e.$set(e.editedItem,"maximo_numero_usuarios",t)},expression:"editedItem.maximo_numero_usuarios"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-checkbox",{attrs:{label:"Activa"},model:{value:e.editedItem.activa,callback:function(t){e.$set(e.editedItem,"activa",t)},expression:"editedItem.activa"}})],1),a("v-col",{attrs:{cols:"4"}}),a("v-row")],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Estas seguro de eliminar esta dependencia?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogUsers,callback:function(t){e.dialogUsers=t},expression:"dialogUsers"}},[a("v-card",{staticClass:"pa-5"},[a("v-card-title",[e._v(" Dependencia: "+e._s(e.showingDependency.nombre)+" ")]),a("v-card-sutitle",[e._v(" Coordinador: "+e._s(e.showingDependency.coordinador)+" ")]),a("v-list",{attrs:{"two-line":""}},e._l(e.usuarios,(function(t,i){return a("v-list-item",{key:i},[a("v-list-item-title",[e._v(" "+e._s(t.nombre)+" ")]),a("v-list-item-subtitle",[e._v(" "+e._s(t.apellido)+" ")])],1)})),1),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeShow}},[e._v("Cerrar")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.showDependencyUsers(i)}}},[e._v(" mdi-feature-search ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}],null,!0)})},ae=[],ie={data:function(){return{valid:!1,dependencias:[],usuarios:[],dialog:!1,dialogDelete:!1,dialogUsers:!1,headers:[{text:"Nombre",value:"nombre"},{text:"Coordinador",value:"coordinador"},{text:"Ubicacion",value:"ubicacion"},{text:"Maxino numero de usuarios",value:"maximo_numero_usuarios"},{text:"Activa",value:"activa"},{text:"Acciones",value:"actions",sortable:!1}],editedItem:{nombre:"",coordinador:"",ubicacion:"",maximo_numero_usuarios:"",activa:!1},defaultItem:{nombre:"",coordinador:"",ubicacion:"",maximo_numero_usuarios:"",activa:!1},editedIndex:-1,showingDependency:"",genericRules:[function(e){return!!e||"Este campo es obligatorio"}]}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva dependencia":"Editar dependencia"}},methods:{close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeShow:function(){var e=this;this.dialogUsers=!1,this.$nextTick((function(){e.usuarios=[],e.showingDependency=""}))},save:function(){this.valid?(-1!=this.editedIndex?P.collection("dependencias").doc(this.editedIndex).set(this.editedItem):P.collection("dependencias").add(this.editedItem),this.close()):alert("Hay campos que aun no estan llenos")},editItem:function(e){this.editedIndex=e.id,this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this;P.collection("usuarios").where("dependencia","==",P.collection("dependencias").doc(e.id)).get().then((function(a){var i=a.docs.map((function(e){return e.data()}));i&&i.length?t.$alert("Esta dependencia aun tiene usuarios"):(t.editedIndex=e.id,t.editedItem=Object.assign({},e),t.dialogDelete=!0)}))},deleteItemConfirm:function(){P.collection("dependencias").doc(this.editedIndex).delete(),this.closeDelete()},showDependencyUsers:function(e){var t=this;this.dialogUsers=!0,this.showingDependency=e,P.collection("usuarios").where("dependencia","==",P.collection("dependencias").doc(e.id)).get().then((function(e){var a=e.docs.map((function(e){return e.data()}));t.usuarios=a}))}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()},dialogUsers:function(e){e||this.closeShow()}},firestore:{dependencias:P.collection("dependencias")}},oe=ie,re=a("8860"),ne=a("da13"),se=a("5d23"),le=Object(l["a"])(oe,te,ae,!1,null,"6d76de80",null),de=le.exports;c()(le,{VBtn:m["a"],VCard:A["a"],VCardActions:T["a"],VCardText:T["c"],VCardTitle:T["d"],VCheckbox:B["a"],VCol:M["a"],VContainer:H["a"],VDataTable:K["a"],VDialog:Q["a"],VDivider:W["a"],VForm:j["a"],VIcon:p["a"],VList:re["a"],VListItem:ne["a"],VListItemSubtitle:se["b"],VListItemTitle:se["c"],VRow:X["a"],VSpacer:b["a"],VTextField:$["a"],VToolbar:G["a"],VToolbarTitle:h["a"]});var ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"d-flex justify-center align-center mt-16"},[a("v-card",[a("v-card-title",[e._v(" Registro ")]),a("v-form",{staticClass:"mt-n15 px-10 pb-10",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("div",{staticClass:"mt-15"},[a("v-text-field",{attrs:{label:"Nombre",required:""},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}}),a("v-text-field",{attrs:{label:"Apellido",required:""},model:{value:e.apellido,callback:function(t){e.apellido=t},expression:"apellido"}}),a("v-text-field",{attrs:{rules:e.emailRules,label:"Email",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{rules:e.passwordRules,label:"Password",type:"password",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-select",{attrs:{items:e.dependencias,"item-text":"nombre","return-object":"",required:""},model:{value:e.dependencia,callback:function(t){e.dependencia=t},expression:"dependencia"}}),a("v-btn",{on:{click:e.submit}},[e._v(" Registrarse! ")])],1)])],1)],1),a("div",{staticClass:"d-flex justify-center align-end"},[a("v-alert",{attrs:{border:"right","colored-border":"",type:"error",elevation:"2",dismissible:"","max-width":"500"},model:{value:e.errorAlert,callback:function(t){e.errorAlert=t},expression:"errorAlert"}},[e._v(" Ha habido un error con el formulario, ingrese de nuevo los datos ")])],1)])},ue=[],ve=a("6821"),me={data:function(){return{errorAlert:!1,valid:!1,nombre:"",email:"",apellido:"",dependencia:"",valido_hasta:"2020/12/31",activo:!0,password:"",dependencias:[],emailRules:[function(e){return!!e||"E-mail es obligatorio"},function(e){return/.+@.+/.test(e)||"E-mail es invalido"}],passwordRules:[function(e){return!!e||"Password es obligatorio"}]}},methods:{submit:function(){if(this.valid){var e={nombre:this.nombre,apellido:this.apellido,email:this.email,dependencia:P.collection("dependencias").doc(this.dependencia.id),valido_hasta:this.valido_hasta,activo:this.activo,password:ve(this.password)};P.collection("usuarios").add(e),this.$router.push("/")}else this.errorAlert=!0}},firestore:{dependencias:P.collection("dependencias")}},pe=me,fe=Object(l["a"])(pe,ce,ue,!1,null,"42527351",null),be=fe.exports;c()(fe,{VAlert:D["a"],VBtn:m["a"],VCard:A["a"],VCardTitle:T["d"],VForm:j["a"],VSelect:Z["a"],VTextField:$["a"]}),i["a"].use(_["a"]);var he=new _["a"]({routes:[{path:"/",name:"login",component:O},{path:"/usuarios",name:"usuarios",component:ee},{path:"/dependencias",name:"dependencias",component:de},{path:"/registration",name:"registration",component:be}]});i["a"].use(I["a"]);var xe=new I["a"].Store({state:{user:{nombre:"",apellido:"",email:""},errorAlert:!1},actions:{login:function(e,t){var a=e.commit;P.collection("usuarios").get().then((function(e){var i=e.docs.map((function(e){return e.data()})),o=i.find((function(e){return e.email===t.email&e.password===t.password}));o?(a("setEmail",o.email),a("setNombre",o.nombre),a("setApellido",o.apellido),he.push("/usuarios")):a("setErrorAlert",!0)}))},logout:function(e){var t=e.commit;return t("setEmail",""),t("setNombre",""),t("setApellido",""),!0}},mutations:{setEmail:function(e,t){e.user.email=t},setNombre:function(e,t){e.user.nombre=t},setApellido:function(e,t){e.user.apellido=t},setErrorAlert:function(e,t){e.errorAlert=t}}}),ge=(a("5363"),a("f309"));i["a"].use(ge["a"]);var Ie=new ge["a"]({}),_e=a("683f"),ke=a("0ff2");i["a"].config.productionTip=!1,i["a"].use(ke["a"]),i["a"].use(_e["a"]),he.beforeEach((function(e,t,a){return"login"===e.name&&""!=xe.state.user.email?a({path:"/usuarios"}):(console.log(xe.state.user.email),""===xe.state.user.email&&"login"!=e.name&&"registration"!=e.name?a({path:"/"}):a())})),new i["a"]({store:xe,router:he,vuetify:Ie,render:function(e){return e(g)}}).$mount("#app")}});
//# sourceMappingURL=app.fc25a767.js.map